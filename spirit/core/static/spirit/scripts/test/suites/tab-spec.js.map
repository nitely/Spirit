{"version":3,"file":"tab-spec.js","sources":["tab-spec.coffee"],"names":[],"mappings":"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","sourcesContent":["describe \"tab plugin tests\", ->\n    tabElms = null\n    tabs = null\n    Tab = null\n\n    beforeEach ->\n        document.body.innerHTML = \"\"\"\n        <div class=\"js-tabs-container\">\n          <ul>\n            <li><a class=\"js-tab\" href=\"#\" data-related=\".js-search-content\">t1</a></li>\n            <li><a class=\"js-tab\" href=\"#\" data-related=\".js-notifications-content\">t2</a></li>\n            <li><a class=\"js-tab\" href=\"#\" data-related=\".js-user-content\">t3</a></li>\n          </ul>\n          <div class=\"js-tab-content js-user-content\" style=\"display:none;\"></div>\n          <div class=\"js-tab-content js-notifications-content\" style=\"display:none;\"></div>\n          <div class=\"js-tab-content js-search-content\" style=\"display:none;\"></div>\n        </div>\n        \"\"\"\n\n        tabElms = document.querySelectorAll('.js-tab')\n        tabs = stModules.tab(tabElms)\n        Tab = stModules.Tab\n\n    it \"selects the clicked tab\", ->\n        tabElms[0].click()\n        expect(tabElms[0].classList.contains('is-selected')).toEqual true\n\n        tabElms[tabElms.length - 1].click()\n        expect(tabElms[tabElms.length - 1].classList.contains('is-selected')).toEqual true\n        expect(tabElms[0].classList.contains('is-selected')).toEqual false\n\n    it \"unselects the clicked tab if is selected\", ->\n        tabElms[0].click()\n        expect(tabElms[0].classList.contains('is-selected')).toEqual true\n\n        tabElms[0].click()\n        expect(tabElms[0].classList.contains('is-selected')).toEqual false\n\n    it \"shows the clicked tab content\", ->\n        tab_content_first = document.querySelector(tabElms[0].dataset.related)\n        expect(tab_content_first.style.display).toEqual('none')\n\n        tabElms[0].click()\n        expect(tab_content_first.style.display).toEqual('')\n\n        tab_content_last = document.querySelector(\n          tabElms[tabElms.length - 1].dataset.related)\n        expect(tab_content_last.style.display).toEqual('none')\n\n        tabElms[tabElms.length - 1].click()\n        expect(tab_content_last.style.display).toEqual('')\n        expect(tab_content_first.style.display).toEqual('none')\n\n    it \"hides the clicked tab content if is selected\", ->\n        tab_content_first = document.querySelector(tabElms[0].dataset.related)\n        expect(tab_content_first.style.display).toEqual('none')\n\n        tabElms[0].click()\n        expect(tab_content_first.style.display).toEqual('')\n\n        tabElms[0].click()\n        expect(tab_content_first.style.display).toEqual('none')\n\n    it \"prevents the default click behaviour\", ->\n        evt = document.createEvent(\"HTMLEvents\")\n        evt.initEvent(\"click\", false, true)\n\n        stopPropagation = spyOn(evt, 'stopPropagation')\n        preventDefault = spyOn(evt, 'preventDefault')\n\n        tabElms[0].dispatchEvent(evt)\n        expect(stopPropagation).toHaveBeenCalled()\n        expect(preventDefault).toHaveBeenCalled()\n"]}